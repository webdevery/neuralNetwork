"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _brain=_interopRequireDefault(require("./brain.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(t,!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}var BrainController=function(){function r(e){_classCallCheck(this,r),this.opts=_objectSpread({},e),this.learned=!1,this.init()}return _createClass(r,[{key:"init",value:function(){this.brain=new _brain.default(this.opts),console.log(this.brain),console.log("start Neural"),console.log("____________")}},{key:"learn",value:function(e,r){return this.brain.learn(e,r)}},{key:"read",value:function(e){return this.brain.read(e)}},{key:"save",value:function(e){var r=this.brain.weights,t=this.brain.layers,n=[];this.brain.layers.forEach(function(e){n.push(e.lenght)});var i={conf:{count:t,sizes:n},weights:r},o=JSON.stringify(i),a=new Blob([o],{type:"application/json"});e.setAttribute("download","weights-conf.json"),e.setAttribute("href",URL.createObjectURL(a))}},{key:"load",value:function(e,t,n){var i=this,o=new XMLHttpRequest;o.overrideMimeType("application/json"),o.open("GET",e,!0),o.onload=function(e){var r=JSON.parse(o.responseText);i.checkConfig(r.conf)?(i.brain.weights=r.weights,i.learned=!0,t()):n()},o.send(null)}},{key:"checkConfig",value:function(t){var e=this.brain.layers,r=[];if(this.brain.layers.forEach(function(e){r.push(e.lenght)}),t.count!=e)return!1;var n=!0;return this.brain.layers.forEach(function(e,r){e.lenght!=t.sizes[r]&&(n=!1)}),n}}]),r}(),_default=BrainController;exports.default=_default;